{% extends "base.html" %}

{% block title %}Services - NORSU Bayawan{% endblock %}

{% block content %}
<style>
    .reveal {
        opacity: 0;
        transform: translateY(22px);
        transition: opacity 0.7s ease, transform 0.7s ease;
    }
    .reveal.is-visible {
        opacity: 1;
        transform: translateY(0);
    }
    .card-glow::before {
        content: "";
        position: absolute;
        inset: -1px;
        border-radius: 24px;
        background: radial-gradient(circle at 20% 20%, rgba(59,130,246,0.18), transparent 55%),
                    radial-gradient(circle at 80% 10%, rgba(14,165,233,0.12), transparent 50%);
        opacity: 0;
        transition: opacity 0.4s ease;
        z-index: 0;
    }
    .card-glow:hover::before {
        opacity: 1;
    }
</style>
<section class="relative overflow-hidden bg-gradient-to-br from-sky-900 via-slate-900 to-sky-700 text-white">
    <div class="absolute -left-24 -top-24 w-72 h-72 bg-sky-400/30 rounded-full blur-3xl"></div>
    <div class="absolute -right-32 top-10 w-96 h-96 bg-sky-500/25 rounded-full blur-3xl"></div>
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.08),_transparent_50%)]"></div>

    <div class="max-w-6xl mx-auto px-6 lg:px-10 py-16 lg:py-20 relative z-10 space-y-8">
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6">
            <div class="space-y-4">
                <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/10 border border-white/20 text-sm font-semibold">
                    <i class="fas fa-life-ring text-xs"></i>
                    <span>Campus Services</span>
                </div>
                <h1 class="text-4xl lg:text-5xl font-bold leading-tight">Support that keeps students thriving.</h1>
                <p class="text-white/80 max-w-2xl text-lg">Find the right office for records, research, wellness, and student life. Click any service below to jump straight to it.</p>
                <div class="flex flex-wrap gap-3">
                    {% for svc in services %}
                    <a href="/services/{{ svc.slug }}/" class="inline-flex items-center gap-2 px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white text-sm font-semibold shadow hover:-translate-y-0.5 hover:shadow-lg transition group reveal">
                        <i class="fas {{ svc.icon }}"></i>
                        <span>{{ svc.name }}</span>
                        <svg class="w-3 h-3 transition-transform duration-200 group-hover:rotate-180" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </a>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-16 bg-white text-neutral-900">
    <div class="max-w-6xl mx-auto px-6 lg:px-10 space-y-10">
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
            {% for svc in services %}
            <div id="{{ svc.slug }}" class="relative overflow-hidden rounded-3xl border border-gray-100 bg-gradient-to-br from-white to-gray-50 p-0 shadow hover:-translate-y-1 hover:shadow-lg transition card-glow reveal">
                <div class="absolute right-2 top-2 w-16 h-16 bg-sky-100/40 rounded-full blur-3xl opacity-70"></div>
                <div class="relative z-10">
                    <button type="button" data-target="body-{{ svc.slug }}" class="w-full flex items-center justify-between gap-3 px-5 py-4 text-left">
                        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-sky-50 text-sky-700 text-xs font-semibold border border-sky-100">
                            <i class="fas {{ svc.icon }}"></i>
                            <span>{{ svc.name }}</span>
                        </div>
                        <svg class="w-4 h-4 text-sky-700 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </button>
                    <div id="body-{{ svc.slug }}" class="px-5 pb-5 space-y-3 border-t border-gray-100">
                        <p class="text-sm text-neutral-700 leading-relaxed">{{ svc.summary }}</p>
                        <a href="/services/{{ svc.slug }}/" class="inline-flex items-center gap-2 text-sm font-semibold text-sky-700 hover:translate-x-1 transition">
                            <span>Learn more</span>
                            <i class="fas fa-arrow-right text-xs"></i>
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

{% include 'includes/footer.html' %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const cards = Array.from(document.querySelectorAll('button[data-target]'));
        cards.forEach(btn => {
            const targetId = btn.getAttribute('data-target');
            const target = document.getElementById(targetId);
            const icon = btn.querySelector('svg');
            btn.addEventListener('click', () => {
                if (!target) return;
                target.classList.toggle('hidden');
                icon?.classList.toggle('rotate-180');
            });
        });

        const reveals = document.querySelectorAll('.reveal');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.15, rootMargin: '0px 0px -10% 0px' });
        reveals.forEach(el => observer.observe(el));
    });
</script>
{% endblock %}
