{% extends 'base.html' %}

{% block title %}School Calendar - NORSU Bayawan{% endblock %}

{% block content %}
<style>
    @keyframes floaty {
        0%, 100% { transform: translateY(0px) scale(1); opacity: 0.55; }
        50% { transform: translateY(-10px) scale(1.04); opacity: 0.85; }
    }
    @keyframes fadeUp {
        0% { opacity: 0; transform: translateY(16px); }
        100% { opacity: 1; transform: translateY(0); }
    }
    .calendar-orb { animation: floaty 9s ease-in-out infinite; }
    .calendar-orb.alt { animation-duration: 11s; animation-delay: 1.5s; }
    .reveal-card { opacity: 0; animation: fadeUp 0.7s ease-out forwards; }
</style>

<section class="relative overflow-hidden bg-gradient-to-br from-sky-900 via-sky-800 to-sky-700 text-white py-14">
    <div class="absolute -left-20 -top-24 w-72 h-72 bg-sky-500/25 rounded-full blur-3xl"></div>
    <div class="absolute -right-24 top-10 w-80 h-80 bg-sky-400/25 rounded-full blur-3xl calendar-orb"></div>
    <div class="absolute left-1/3 bottom-0 w-64 h-64 bg-white/10 rounded-full blur-3xl calendar-orb alt"></div>

    <div class="max-w-6xl mx-auto px-6 relative z-10 space-y-6">
        <div class="flex items-center justify-between flex-wrap gap-3">
            <div class="flex items-center gap-3 flex-wrap">
                <a href="{% url 'academics:departments' %}" class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/90 border border-sky-100 text-sky-700 font-semibold text-sm shadow-sm hover:-translate-y-0.5 hover:shadow transition">
                    <i class="fas fa-arrow-left text-xs"></i>
                    <span>Back to Academics</span>
                </a>
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/85 border border-white shadow-sm">
                    <span class="w-2 h-2 rounded-full bg-emerald-500"></span>
                    <span class="text-xs font-semibold tracking-wide text-emerald-700 uppercase">School Calendar</span>
                </div>
            </div>
            <div class="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-white/90 border border-sky-100 text-sm text-sky-700 shadow-sm">
                <i class="fas fa-calendar-alt text-sky-600"></i>
                <span>Semester dates, breaks, deadlines</span>
            </div>
        </div>

        <div class="space-y-3">
            <h1 class="text-3xl font-bold leading-tight text-white">School Calendar</h1>
            <p class="text-sky-50/90 max-w-3xl">Stay ahead with key academic dates - registration windows, class start, exams, holidays, and grade posting deadlines.</p>
        </div>
    </div>
</section>

<section class="py-12 bg-white text-neutral-900">
    <div class="max-w-6xl mx-auto px-6 space-y-8">
        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            <div class="rounded-2xl border border-sky-100 bg-sky-50/70 p-5 shadow-sm reveal-card" style="animation-delay: 80ms;">
                <p class="text-xs font-semibold uppercase tracking-wide text-sky-700">Why check this?</p>
                <p class="text-sm text-neutral-700 mt-2">Academic calendars include semester dates, class schedules, holidays, and deadlines. Use this to plan submissions and breaks.</p>
            </div>
            <div class="rounded-2xl border border-emerald-100 bg-emerald-50/70 p-5 shadow-sm reveal-card" style="animation-delay: 140ms;">
                <p class="text-xs font-semibold uppercase tracking-wide text-emerald-700">Plan ahead</p>
                <p class="text-sm text-neutral-700 mt-2">Register early, note exam weeks, and avoid missing drop/add or grade posting deadlines.</p>
            </div>
            <div class="rounded-2xl border border-amber-100 bg-amber-50/70 p-5 shadow-sm reveal-card" style="animation-delay: 200ms;">
                <p class="text-xs font-semibold uppercase tracking-wide text-amber-700">Sync your schedule</p>
                <p class="text-sm text-neutral-700 mt-2">Add these dates to your personal calendar to keep assignments and travel in sync.</p>
            </div>
        </div>

        <div class="space-y-4">
            <div class="flex items-center justify-between">
                <h2 class="text-2xl font-bold text-neutral-900">Key dates</h2>
                <span class="px-3 py-1 text-xs font-semibold rounded-full bg-sky-50 text-sky-700 border border-sky-100">{{ calendar_items|length }} milestones</span>
            </div>
            <div class="grid gap-4 md:grid-cols-2">
                {% for item in calendar_items %}
                <div class="group relative overflow-hidden rounded-3xl border border-sky-100 bg-white/90 backdrop-blur p-5 shadow-sm hover:-translate-y-0.5 hover:shadow-md transition reveal-card" style="animation-delay: {{ forloop.counter|add:2 }}0ms;">
                    <div class="absolute right-2 top-2 w-20 h-20 bg-sky-100/50 rounded-full blur-2xl opacity-70 group-hover:scale-110 transition"></div>
                    <div class="relative z-10 space-y-2">
                        <div class="flex items-center justify-between gap-3">
                            <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-sky-50 text-sky-700 text-xs font-semibold border border-sky-100">
                                <i class="fas fa-calendar-day"></i>
                                {{ item.category }}
                            </span>
                            <span class="text-sm font-semibold text-neutral-700">{{ item.date }}</span>
                        </div>
                        <h3 class="text-lg font-bold text-neutral-900">{{ item.title }}</h3>
                        <p class="text-sm text-neutral-700 leading-relaxed">{{ item.detail }}</p>
                    </div>
                </div>
                {% empty %}
                <div class="md:col-span-2 rounded-3xl border border-dashed border-sky-200 bg-white/80 p-6 text-neutral-700 text-sm">
                    Calendar details will be posted soon. Check back for semester schedules and deadlines.
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>
{% endblock %}
